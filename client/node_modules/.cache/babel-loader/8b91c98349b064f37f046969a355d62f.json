{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\martin.a.kalistenco\\\\Documents\\\\MERN\\\\root\\\\mytinerary-martin\\\\client\\\\src\\\\Cities.js\";\nimport React, { Component } from 'react';\nimport Table from 'react-bootstrap/Table';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nexport default class Cities extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchCities = () => {\n      fetch('http://localhost:5000/cities/all').then(response => response.json()).then(citiesArray => this.setState({\n        citiesArray,\n        isLoading: true,\n        filteredCitiesArray: citiesArray\n      })).catch(error => console.log(error));\n    };\n\n    this.filterCities = filter => {\n      var filteredCitiesArray = [];\n      var value = filter.target.value.toLowerCase();\n      this.state.citiesArray.map(element => {\n        if (element.city.toString().toLowerCase().startsWith(value)) filteredCitiesArray.push(element);\n      });\n      this.setState({\n        filteredCitiesArray\n      });\n    };\n\n    this.state = {\n      isLoading: false,\n      citiesArray: [],\n      filteredCitiesArray: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchCities();\n  }\n\n  render() {\n    if (this.state.isLoading === false) {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        className: \"d-flex justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Waiting for cities list to load\"));\n    } else return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"d-flex justify-content-center mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Cities\"), React.createElement(Form, {\n      className: \"mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Filter Cities\"), React.createElement(Form.Control, {\n      type: \"city\",\n      placeholder: \"Enter city\",\n      onChange: this.filterCities,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Country\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"City\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, this.state.filteredCitiesArray.map(city => React.createElement(\"tr\", {\n      key: city._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \" \", city.country, \" \"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \" \", city.city, \" \"))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/martin.a.kalistenco/Documents/MERN/root/mytinerary-martin/client/src/Cities.js"],"names":["React","Component","Table","Container","Form","Cities","constructor","props","fetchCities","fetch","then","response","json","citiesArray","setState","isLoading","filteredCitiesArray","catch","error","console","log","filterCities","filter","value","target","toLowerCase","state","map","element","city","toString","startsWith","push","componentDidMount","render","_id","country"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Table from 'react-bootstrap/Table'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Form from 'react-bootstrap/Form'\r\n\r\nexport default class Cities extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoading: false,\r\n            citiesArray: [],\r\n            filteredCitiesArray: []\r\n        };\r\n    }\r\n\r\n    fetchCities = () => {\r\n\r\n        fetch('http://localhost:5000/cities/all')\r\n            .then(response => response.json())\r\n            .then(citiesArray => this.setState({ citiesArray, isLoading: true, filteredCitiesArray: citiesArray }))\r\n            .catch(error => console.log(error))\r\n\r\n    }\r\n\r\n    filterCities = (filter) => {\r\n        var filteredCitiesArray = [];\r\n        var value = filter.target.value.toLowerCase()\r\n\r\n        this.state.citiesArray.map(element => {\r\n            if(element.city.toString().toLowerCase().startsWith(value))\r\n                filteredCitiesArray.push(element)\r\n        })\r\n\r\n        this.setState({filteredCitiesArray})\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchCities()\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.isLoading === false) {\r\n            return (\r\n                <Container>\r\n                    <h6 className=\"d-flex justify-content-center\">Waiting for cities list to load</h6>\r\n                </Container>\r\n            )\r\n        }\r\n\r\n        else return (\r\n            \r\n            <Container>\r\n                <h2 className=\"d-flex justify-content-center mb-3\">Cities</h2>\r\n\r\n                <Form className=\"mb-4\">\r\n                    <Form.Label>Filter Cities</Form.Label>\r\n                    <Form.Control type=\"city\" placeholder=\"Enter city\" onChange={this.filterCities}/>\r\n                </Form>\r\n\r\n                <Table>\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Country</th>\r\n                            <th>City</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody>\r\n                        {this.state.filteredCitiesArray.map((city) =>\r\n                            <tr key={city._id}>\r\n                                <td> {city.country} </td>\r\n                                <td> {city.city} </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n\r\n                </Table>\r\n\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}