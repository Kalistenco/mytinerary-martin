{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\martin.a.kalistenco\\\\Documents\\\\MERN\\\\root\\\\mytinerary-martin\\\\client\\\\src\\\\components\\\\Cities.js\";\nimport React, { Component } from 'react';\nimport Table from 'react-bootstrap/Table';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport NavBar from './NavBar';\nimport Image from 'react-bootstrap/Image';\nimport './Cities.css';\nimport { getAllCities } from '../store/actions/citiesActions';\nexport default class Cities extends Component {\n  constructor() {\n    super();\n\n    this.filterCities = filter => {\n      var filteredCitiesArray = [];\n      var value = filter.target.value.toLowerCase();\n      this.state.citiesArray.map(element => {\n        if (element.city.toString().toLowerCase().startsWith(value)) filteredCitiesArray.push(element);\n      });\n      this.setState({\n        filteredCitiesArray\n      });\n    };\n\n    this.mapStateToProps = state => {\n      return {\n        cities: state\n      };\n    };\n\n    this.mapDispatchToProps = dispatch => {\n      return {\n        citiesArray: () => dispatch(fetchCities())\n      };\n    };\n\n    this.state = {\n      isLoading: false,\n      citiesArray: [],\n      filteredCitiesArray: []\n    };\n  }\n  /*   fetchCities = () => {\r\n  \n         fetch('http://172.16.127.35:5000/cities/all')\r\n             .then(response => response.json())\r\n             .then(citiesArray => this.setState({ citiesArray, isLoading: true, filteredCitiesArray: citiesArray }))\r\n             .catch(error => console.log(error))\r\n     } */\n\n\n  async componentWillMount() {\n    await this.props.citiesArray();\n  }\n\n  render() {\n    if (this.state.isLoading === false) {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"h6\", {\n        className: \"d-flex justify-content-center mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Waiting for cities list to load\"));\n    } else return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"d-flex justify-content-center mt-3 mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Cities\"), React.createElement(Form, {\n      className: \"mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"city\",\n      placeholder: \"Filter your favourite city\",\n      onChange: this.filterCities,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, this.state.filteredCitiesArray.map(city => React.createElement(\"tr\", {\n      key: city._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: city.img,\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      className: \"d-flex justify-content-center mt-3\",\n      id: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, city.city)))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/martin.a.kalistenco/Documents/MERN/root/mytinerary-martin/client/src/components/Cities.js"],"names":["React","Component","Table","Container","Form","NavBar","Image","getAllCities","Cities","constructor","filterCities","filter","filteredCitiesArray","value","target","toLowerCase","state","citiesArray","map","element","city","toString","startsWith","push","setState","mapStateToProps","cities","mapDispatchToProps","dispatch","fetchCities","isLoading","componentWillMount","props","render","_id","img"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Table from 'react-bootstrap/Table'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Form from 'react-bootstrap/Form'\r\nimport NavBar from './NavBar'\r\nimport Image from 'react-bootstrap/Image'\r\nimport './Cities.css'\r\nimport { getAllCities } from '../store/actions/citiesActions'\r\n\r\nexport default class Cities extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isLoading: false,\r\n            citiesArray: [],\r\n            filteredCitiesArray: []\r\n        };\r\n    }\r\n\r\n    /*   fetchCities = () => {\r\n   \r\n           fetch('http://172.16.127.35:5000/cities/all')\r\n               .then(response => response.json())\r\n               .then(citiesArray => this.setState({ citiesArray, isLoading: true, filteredCitiesArray: citiesArray }))\r\n               .catch(error => console.log(error))\r\n       } */\r\n\r\n\r\n    filterCities = (filter) => {\r\n        var filteredCitiesArray = [];\r\n        var value = filter.target.value.toLowerCase()\r\n\r\n        this.state.citiesArray.map(element => {\r\n            if (element.city.toString().toLowerCase().startsWith(value))\r\n                filteredCitiesArray.push(element)\r\n        })\r\n\r\n        this.setState({ filteredCitiesArray })\r\n    }\r\n\r\n    async componentWillMount() {\r\n        await this.props.citiesArray();\r\n    }\r\n\r\n    mapStateToProps = (state) => {\r\n        return {\r\n            cities: state\r\n        }    \r\n    }\r\n\r\n    mapDispatchToProps = dispatch => {\r\n        return {\r\n            citiesArray: () => dispatch(fetchCities())\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.isLoading === false) {\r\n            return (\r\n                <Container>\r\n                    <NavBar>\r\n                    </NavBar>\r\n                    <h6 className=\"d-flex justify-content-center mt-3\">Waiting for cities list to load</h6>\r\n                </Container>\r\n            )\r\n        }\r\n\r\n        else return (\r\n\r\n            <Container>\r\n\r\n                <NavBar></NavBar>\r\n\r\n                <h2 className=\"d-flex justify-content-center mt-3 mb-3\">Cities</h2>\r\n\r\n                <Form className=\"mb-4\">\r\n                    <Form.Control type=\"city\" placeholder=\"Filter your favourite city\" onChange={this.filterCities} />\r\n                </Form>\r\n\r\n                <Table>\r\n\r\n                    <tbody>\r\n\r\n                        {this.state.filteredCitiesArray.map((city) =>\r\n                            <tr key={city._id}>\r\n                                <td>\r\n                                    <Image\r\n                                        src={city.img}\r\n                                        fluid />\r\n                                    <h5 className=\"d-flex justify-content-center mt-3\" id=\"text\">{city.city}</h5>\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n\r\n                </Table>\r\n\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}